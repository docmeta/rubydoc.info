<% if @pagy.pages > 1 %>
  <div class="tabbed-links numeric">
    Page:
    <% if @search %>
      <% page_prefix = "/#{controller_name}?q=#{@search}&page=" %>
    <% else %>
      <% page_prefix = "/#{controller_name}/~#{@letter}/" %>
    <% end %>
    <% ((@page - 10)...(@page + 10)).each do |page| %>
      <% if page == @page - 10 && page > 1 %>
        <a href="<%= page_prefix %>1">1</a>
        ...
      <% end %>
      <% next if page < 1 || page >= @pagy.pages %>
      <% if page == @page %>
        <span class="selected"><%= page %></span>
      <% else %>
        <a href="<%= page_prefix %><%= page %>"><%= page %></a>
      <% end %>
      <% if page == @page + 9 && page < @pagy.pages %>
        ...
        <a href="<%= page_prefix %><%= @pagy.pages - 1 %>"><%= @pagy.pages - 1 %></a>
      <% end %>
    <% end %>
  </div>
<% end %>
